{% extends 'notes/base.html' %}
{% block title %}Список заметок{% endblock %}
{% block content %}
<style>
  .note-card {
    background: #f9f9fb;
    padding: 1.2rem;
    border-radius: 10px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.05);
    margin-bottom: 1.2rem;
    transition: 0.2s;
  }
  .note-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
  }
  .note-card h2 a {
    text-decoration: none;
    color: #273c75;
  }
  .note-card h2 a:hover {
    color: #40739e;
  }
  .pagination {
    text-align: center;
    margin-top: 2rem;
  }
  .pagination a {
    color: #273c75;
    margin: 0 0.5rem;
    text-decoration: none;
    font-weight: 500;
  }
  .pagination span {
    color: #555;
  }
</style>

{% if tag %}
  <h2>Тег: {{ tag.name }}</h2>
{% elif query %}
  <h2>Результаты поиска: "{{ query }}"</h2>
{% else %}
  <h2>Все заметки</h2>
{% endif %}

{% for note in page_obj %}
  {% include 'notes/note_card.html' %}
{% empty %}
  <p>Нет заметок</p>
{% endfor %}

<div class="pagination">
  {% if page_obj.has_previous %}
    <a href="?page={{ page_obj.previous_page_number }}{% if query %}&q={{ query|urlencode }}{% endif %}">← Назад</a>
  {% endif %}
  <span>Стр {{ page_obj.number }} из {{ page_obj.paginator.num_pages }}</span>
  {% if page_obj.has_next %}
    <a href="?page={{ page_obj.next_page_number }}{% if query %}&q={{ query|urlencode }}{% endif %}">Вперёд →</a>
  {% endif %}
</div>
{% endblock %}
